<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro</title>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, Helvetica, sans-serif;
      }

      body {
        min-height: 100vh;
        background: linear-gradient(135deg, #6a1bbd, #2a0845);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .container {
        width: 100%;
        display: flex;
        justify-content: center;
      }

      .card {
        background: #4b2b73;
        width: 360px;
        padding: 35px 30px;
        border-radius: 18px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        color: #fff;
      }

      .card h2 {
        text-align: center;
        margin-bottom: 20px;
      }

      .upload-foto {
        display: flex;
        justify-content: center;
        margin-bottom: 25px;
      }

      .foto-preview {
        width: 110px;
        height: 110px;
        border-radius: 50%;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        color: #777;
        font-size: 13px;
        font-weight: bold;
      }

      .foto-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: none;
      }

      .input-box {
        background: #fff;
        border-radius: 10px;
        display: flex;
        align-items: center;
        padding: 12px;
        margin-bottom: 15px;
      }

      .input-box span {
        margin-right: 10px;
      }

      .input-box input {
        border: none;
        outline: none;
        width: 100%;
        font-size: 14px;
      }

      .btn {
        width: 100%;
        padding: 12px;
        background: #fff;
        color: #5b22b2;
        border: none;
        border-radius: 12px;
        font-weight: bold;
        cursor: pointer;
        margin-top: 10px;
      }

      .btn:hover {
        background: #eee;
      }

      .info {
        text-align: center;
        font-size: 13px;
        margin-top: 20px;
        opacity: 0.9;
      }

      .link {
        text-align: center;
        margin-top: 15px;
        font-size: 14px;
      }

      .link a {
        color: #fff;
        font-weight: bold;
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="card">
        <h2>Registrar</h2>

        <!-- FOTO -->
        <div class="upload-foto">
          <label class="foto-preview">
            <img id="preview" alt="Foto de perfil" />
            <span id="placeholder">Adicionar foto</span>
            <input type="file" id="fileInput" accept="image/*" hidden />
          </label>
        </div>

        <div class="input-box">
          <span>üë§</span>
          <input type="text" placeholder="Nome completo" />
        </div>

        <div class="input-box">
          <span>üìß</span>
          <input type="email" placeholder="E-mail" />
        </div>

        <div class="input-box">
          <span>üîí</span>
          <input type="password" placeholder="Senha" />
        </div>

        <div class="input-box">
          <span>üîí</span>
          <input type="password" placeholder="Confirmar senha" />
        </div>

        <button class="btn">Criar conta</button>

        <p class="info">üîê Seus dados est√£o protegidos</p>

        <p class="link">J√° tem conta? <a href="login.html">Entrar</a></p>
      </div>
    </div>

    <script>
      const fileInput = document.getElementById("fileInput");
      const preview = document.getElementById("preview");
      const placeholder = document.getElementById("placeholder");

      // üîπ CARREGAR FOTO SALVA
      const savedImage = localStorage.getItem("fotoPerfil");
      if (savedImage) {
        preview.src = savedImage;
        preview.style.display = "block";
        placeholder.style.display = "none";
      }

      // üîπ SALVAR NOVA FOTO
      fileInput.addEventListener("change", () => {
        const file = fileInput.files[0];

        if (!file) return;

        if (!file.type.startsWith("image/")) {
          alert("Selecione apenas imagens.");
          return;
        }

        const reader = new FileReader();
        reader.onload = () => {
          const base64Image = reader.result;
          preview.src = base64Image;
          preview.style.display = "block";
          placeholder.style.display = "none";

          // üíæ SALVA NO LOCALSTORAGE
          localStorage.setItem("fotoPerfil", base64Image);
        };
        reader.readAsDataURL(file);
      });
    </script>
  </body>
</html>
